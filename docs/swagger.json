{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/device/{udid}/accessibility/disable": {
            "get": {
                "description": "Turns off the accessibility session on the device",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accessibility"
                ],
                "summary": "Disable accessibility service",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/device/{udid}/accessibility/enable": {
            "get": {
                "description": "Starts an accessibility session on the device and enables selection mode",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accessibility"
                ],
                "summary": "Enable accessibility service",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/accessibility/next": {
            "post": {
                "description": "Moves the selection to the next element using accessibility service",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accessibility"
                ],
                "summary": "Navigate to next accessible element",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/accessibility/perform-action": {
            "post": {
                "description": "Performs the default action on the current focused element using DTX",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accessibility"
                ],
                "summary": "Perform accessibility action via DTX",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/accessibility/previous": {
            "post": {
                "description": "Moves the selection to the previous element using accessibility service",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accessibility"
                ],
                "summary": "Navigate to previous accessible element",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/accessibility/wda/perform-action": {
            "post": {
                "description": "Performs an action using WebDriverAgent and returns action UUID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "accessibility"
                ],
                "summary": "Perform accessibility action via WDA",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/activate": {
            "post": {
                "description": "Returns and error if activation fails. Otherwise  {\"message\":\"Activation successful\"}",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific",
                    "activation"
                ],
                "summary": "Activate the device by udid",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/device/{udid}/apps": {
            "post": {
                "description": "List the installed apps on a device",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apps"
                ],
                "summary": "List apps on a device",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/installationproxy.AppInfo"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/apps/install": {
            "post": {
                "description": "Install app on a device by uploading an ipa file",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apps"
                ],
                "summary": "Install app on a device",
                "parameters": [
                    {
                        "type": "file",
                        "description": "ipa file to install",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/apps/kill": {
            "post": {
                "description": "Kill running app on a device by provided bundleID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apps"
                ],
                "summary": "Kill running app on a device",
                "parameters": [
                    {
                        "type": "string",
                        "description": "bundle identifier of the targeted app",
                        "name": "bundleID",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/apps/launch": {
            "post": {
                "description": "Launch app on a device by provided bundleID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "apps"
                ],
                "summary": "Launch app on a device",
                "parameters": [
                    {
                        "type": "string",
                        "description": "bundle identifier of the targeted app",
                        "name": "bundleID",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/conditions": {
            "get": {
                "description": "Get a list of the available conditions that can be applied on the device",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Get a list of available device conditions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/instruments.ProfileType"
                            }
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/disable-condition": {
            "post": {
                "description": "Disable the currently active condition on a device",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Disable the currently active condition on a device",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/enable-condition": {
            "put": {
                "description": "Enable condition on a device by provided profileTypeID and profileID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Enable condition on a device",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Identifier of the profile type, eg. SlowNetworkCondition",
                        "name": "profileTypeID",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Identifier of the sub-profile, eg. SlowNetwork100PctLoss",
                        "name": "profileID",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/info": {
            "get": {
                "description": "Returns all lockdown values and additional instruments properties for development enabled devices.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Get lockdown info for a device by udid",
                "parameters": [
                    {
                        "type": "string",
                        "description": "device udid",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/device/{udid}/pair": {
            "post": {
                "description": "Pair a device with/without supervision",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Pair a device with/without supervision",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Set if device is supervised - true/false",
                        "name": "supervised",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "Supervision *.p12 file",
                        "name": "p12file",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "description": "Supervision password",
                        "name": "supervision_password",
                        "in": "formData"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "422": {
                        "description": "Unprocessable Entity",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/profiles": {
            "get": {
                "description": "get the list of installed profiles from the ios device",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "get the list of profiles",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/resetlocation": {
            "post": {
                "description": "Reset the changed device location to the actual one",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Reset the changed device location",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/device/{udid}/screenshot": {
            "get": {
                "description": "Takes a png screenshot and returns it.",
                "produces": [
                    "image/png"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Get screenshot for device",
                "parameters": [
                    {
                        "type": "string",
                        "description": "device udid",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer",
                                "format": "int32"
                            }
                        }
                    }
                }
            }
        },
        "/device/{udid}/setlocation": {
            "post": {
                "description": "Change the current device location to provided latitude and longtitude",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general_device_specific"
                ],
                "summary": "Change the current device location",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Location latitude",
                        "name": "latitude",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Location longtitude",
                        "name": "longtitude",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Device UDID",
                        "name": "udid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "422": {
                        "description": "Unprocessable Entity",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/list": {
            "get": {
                "description": "get device list of currently connected devices.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general"
                ],
                "summary": "Get device list",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/listen": {
            "get": {
                "description": "Uses SSE to connect to the LISTEN command",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general"
                ],
                "summary": "Uses SSE to connect to the LISTEN command",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/notifications": {
            "get": {
                "description": "uses instruments to get application state change events",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "general"
                ],
                "summary": "uses instruments to get application state change events",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/wda/session": {
            "post": {
                "description": "Create a new WebDriverAgent session for the specified device",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "WebDriverAgent"
                ],
                "summary": "Create a new WDA session",
                "parameters": [
                    {
                        "description": "WebDriverAgent Configuration",
                        "name": "config",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/api.WdaConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.WdaSession"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        },
        "/wda/session/{sessionId}": {
            "get": {
                "description": "Get a WebDriverAgent session by sessionId",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "WebDriverAgent"
                ],
                "summary": "Get a WebDriverAgent session",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Session ID",
                        "name": "sessionId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.WdaSession"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete a WebDriverAgent session by sessionId",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "WebDriverAgent"
                ],
                "summary": "Delete a WebDriverAgent session",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Session ID",
                        "name": "sessionId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/api.WdaSession"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/api.GenericResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "api.GenericResponse": {
            "type": "object",
            "properties": {
                "error": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                }
            }
        },
        "api.WdaConfig": {
            "type": "object",
            "required": [
                "bundleId",
                "testBundleId",
                "xcTestConfig"
            ],
            "properties": {
                "args": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "bundleId": {
                    "type": "string"
                },
                "env": {
                    "type": "object",
                    "additionalProperties": true
                },
                "testBundleId": {
                    "type": "string"
                },
                "xcTestConfig": {
                    "type": "string"
                }
            }
        },
        "api.WdaSession": {
            "type": "object",
            "required": [
                "config",
                "sessionId",
                "udid"
            ],
            "properties": {
                "config": {
                    "$ref": "#/definitions/api.WdaConfig"
                },
                "sessionId": {
                    "type": "string"
                },
                "udid": {
                    "type": "string"
                }
            }
        },
        "installationproxy.AppInfo": {
            "type": "object",
            "additionalProperties": {}
        },
        "instruments.Profile": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "identifier": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "instruments.ProfileType": {
            "type": "object",
            "properties": {
                "activeProfile": {
                    "type": "string"
                },
                "identifier": {
                    "type": "string"
                },
                "isActive": {
                    "type": "boolean"
                },
                "isDestructive": {
                    "type": "boolean"
                },
                "isInternal": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "profiles": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/instruments.Profile"
                    }
                },
                "profilesSorted": {
                    "type": "boolean"
                }
            }
        }
    }
}